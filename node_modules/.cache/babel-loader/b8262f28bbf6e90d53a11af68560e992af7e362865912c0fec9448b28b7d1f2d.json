{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport DataService from '@/DataService';\nimport axios from 'axios';\nimport SvgIcon from '@jamescoyle/vue-icon';\nimport { mdiHeart, mdiMagnify } from '@mdi/js';\nexport default {\n  name: 'SearchMovies',\n  components: {\n    SvgIcon\n  },\n  data() {\n    return {\n      title: null,\n      year: null,\n      this: null,\n      data: [],\n      favoritemovie: null,\n      isLoading: false,\n      err: \"\",\n      path: mdiHeart,\n      path2: mdiMagnify,\n      favoritemovies: []\n    };\n  },\n  methods: {\n    SearchMovies() {\n      this.data.length = 0;\n      if (this.title == null && this.year == null) {\n        alert(\"Geben Sie erst einen Titel oder ein Jahr ein.\");\n        return;\n      } else {\n        let titleParam = \"\";\n        let yearParam = \"\";\n        let typeParam = \"&type=movie\";\n        if (this.title != null) {\n          titleParam = `s=${this.title}`;\n        }\n        if (this.year != null) {\n          yearParam = `&y=${this.year}`;\n        }\n        let Searchthis = titleParam + yearParam + typeParam;\n        console.log(Searchthis);\n        let url = `http://www.omdbapi.com/?apikey=385748cd&${Searchthis}`;\n        console.log(url);\n        this.fetchMovies(url);\n      }\n    },\n    getFavoriteMovies() {\n      DataService.getAll().then(response => {\n        let fvmv = response.data;\n        for (let i = 0; i < fvmv.length; i++) {\n          this.favoritemovies.push(fvmv[i]);\n        }\n        console.log(this.favoritemovies);\n      }).catch(e => {\n        console.log(e);\n      });\n    },\n    searchFavoriteMovies() {\n      console.log(this.data);\n      console.log(this.favoritemovies);\n      for (let x = 0; x < this.data.length; ++x) {\n        console.log(x + \"x\");\n        for (let i = 0; i < this.favoritemovies.length; ++i) {\n          if (this.favoritemovies[i].imdbID == this.data[x].imdbID) {\n            console.log(\"found\");\n            this.disableFavoriteMovies(x);\n          } else {\n            console.log(\"not found\");\n          }\n        }\n      }\n    },\n    disableFavoriteMovies(j) {\n      let movie = document.getElementById(this.data[j].imdbID);\n      movie.style.backgroundColor = \"green\";\n      console.log(\"color red\");\n      movie.disabled = true;\n    },\n    fetchMovies(url) {\n      axios.get(url).then(response => {\n        let dt = response.data.Search;\n        for (let i = 0; i < dt.length; i++) {\n          this.data.push(dt[0]);\n        }\n      });\n      console.log(this.data);\n      this.searchFavoriteMovies();\n    },\n    addToFavorites(ID) {\n      console.log(ID);\n      let MovieData = {\n        imdbID: ID\n      };\n      DataService.create(MovieData).then(response => {\n        console.log(response.data);\n        alert(\"Film wurde zu Favoriten hinzugefügt!\");\n        this.submitted = true;\n      }).catch(e => {\n        console.log(e);\n      });\n    }\n  },\n  mounted() {\n    this.getFavoriteMovies();\n  }\n};","map":{"version":3,"names":["DataService","axios","SvgIcon","mdiHeart","mdiMagnify","name","components","data","title","year","this","favoritemovie","isLoading","err","path","path2","favoritemovies","methods","SearchMovies","length","alert","titleParam","yearParam","typeParam","Searchthis","console","log","url","fetchMovies","getFavoriteMovies","getAll","then","response","fvmv","i","push","catch","e","searchFavoriteMovies","x","imdbID","disableFavoriteMovies","j","movie","document","getElementById","style","backgroundColor","disabled","get","dt","Search","addToFavorites","ID","MovieData","create","submitted","mounted"],"sources":["/home/mustafa/Dokumente/GitHub/vuemovies/src/components/search/search.vue"],"sourcesContent":["<template>\n    <div class=\"text-field-container\">\n        <v-text-field label=\"Titel\" variant=\"outlined\" v-model=\"this.title\"></v-text-field>\n        <v-text-field label=\"Erscheinungsjahr\" variant=\"outlined\" v-model=\"this.year\"></v-text-field>\n    </div>\n    <v-btn id=\"SearchBt\" v-on:click=\"SearchMovies()\">Suchen <svg-icon type=\"mdi\" :path=\"path2\"></svg-icon>\n    </v-btn>\n    <div>\n        <table>\n            <tr>\n                <th>\n                    Poster\n                </th>\n                <th>Title</th>\n                <th>Jahr</th>\n                <th>Zu Favoriten hinzufügen</th>\n\n\n            </tr>\n            <tr v-for=\"x in data \" :key=\"x\">\n                <td><img :src=\"x.Poster\" alt=\"\"></td>\n                <td>{{ x.Title }}</td>\n                <td>{{ x.Year }}</td>\n                <td> <v-btn v-on:click=\"addToFavorites(x.imdbID)\" :id=\"x.imdbID\" class=\"FavoritesBt\"><svg-icon\n                            type=\"mdi\" :path=\"path\"></svg-icon>\n\n                    </v-btn>\n                </td>\n            </tr>\n        </table>\n    </div>\n\n</template>\n<script>\nimport DataService from '@/DataService';\nimport axios from 'axios';\nimport SvgIcon from '@jamescoyle/vue-icon';\nimport { mdiHeart, mdiMagnify } from '@mdi/js';\n\n\n\nexport default {\n    name: 'SearchMovies',\n\n    components: {\n        SvgIcon\n    },\n    data() {\n        return {\n\n            title: null,\n            year: null,\n            this: null,\n            data: [],\n            favoritemovie: null,\n            isLoading: false,\n            err: \"\",\n            path: mdiHeart,\n            path2: mdiMagnify,\n            favoritemovies: []\n\n\n        };\n    },\n    methods: {\n\n        SearchMovies() {\n            this.data.length = 0\n            if (this.title == null && this.year == null) {\n                alert(\"Geben Sie erst einen Titel oder ein Jahr ein.\")\n                return\n            }\n            else {\n\n                let titleParam = \"\"\n                let yearParam = \"\"\n                let typeParam = \"&type=movie\"\n\n                if (this.title != null) {\n                    titleParam = `s=${this.title}`\n                }\n                if (this.year != null) {\n                    yearParam = `&y=${this.year}`\n                }\n                let Searchthis = titleParam + yearParam + typeParam\n                console.log(Searchthis)\n                let url = `http://www.omdbapi.com/?apikey=385748cd&${Searchthis}`;\n                console.log(url)\n\n                this.fetchMovies(url)\n            }\n        },\n        getFavoriteMovies() {\n            DataService.getAll()\n                .then(response => {\n                    let fvmv = response.data\n                    for (let i = 0; i < fvmv.length; i++) {\n                        this.favoritemovies.push(fvmv[i])\n                    }\n                    console.log(this.favoritemovies)\n\n                })\n                .catch(e => {\n                    console.log(e);\n                });\n        },\n        searchFavoriteMovies() {\n            console.log(this.data)\n            console.log(this.favoritemovies)\n            for (let x = 0; x < this.data.length; ++x) {\n                console.log(x + \"x\");\n                for (let i = 0; i < this.favoritemovies.length; ++i) {\n                    if (this.favoritemovies[i].imdbID == this.data[x].imdbID) {\n                        console.log(\"found\")\n                        this.disableFavoriteMovies(x)\n                    }\n                    else { console.log(\"not found\") }\n                }\n            }\n        },\n\n        disableFavoriteMovies(j) {\n            let movie = document.getElementById(this.data[j].imdbID)\n            movie.style.backgroundColor = \"green\"\n            console.log(\"color red\")\n            movie.disabled = true;\n\n        },\n\n\n        fetchMovies(url) {\n            axios.get(url).then(\n                response => {\n                    let dt = response.data.Search\n                    for (let i = 0; i < dt.length; i++) {\n                        this.data.push(dt[0])\n                    }\n                }\n            )\n            console.log(this.data)\n\n            this.searchFavoriteMovies()\n        },\n        addToFavorites(ID) {\n            console.log(ID)\n            let MovieData = {\n                imdbID: ID\n            }\n\n            DataService.create(MovieData).then(response => {\n                console.log(response.data);\n                alert(\"Film wurde zu Favoriten hinzugefügt!\")\n                this.submitted = true;\n            })\n                .catch(e => {\n                    console.log(e);\n                });\n\n        }\n\n\n    },\n    mounted() {\n        this.getFavoriteMovies()\n    }\n}\n\n</script>\n<style scoped>\nimg {\n    max-height: 150px;\n}\n\ntable {\n    min-width: 90%;\n}\n\n.FavoritesBt {\n    background-color: rgb(247, 121, 121)\n}\n\n#SearchBt {}\n\n.text-field-container {\n    display: flex;\n    margin-top: 10px;\n}\n</style>"],"mappings":";AAkCA,OAAOA,WAAU,MAAO,eAAe;AACvC,OAAOC,KAAI,MAAO,OAAO;AACzB,OAAOC,OAAM,MAAO,sBAAsB;AAC1C,SAASC,QAAQ,EAAEC,UAAS,QAAS,SAAS;AAI9C,eAAe;EACXC,IAAI,EAAE,cAAc;EAEpBC,UAAU,EAAE;IACRJ;EACJ,CAAC;EACDK,IAAIA,CAAA,EAAG;IACH,OAAO;MAEHC,KAAK,EAAE,IAAI;MACXC,IAAI,EAAE,IAAI;MACVC,IAAI,EAAE,IAAI;MACVH,IAAI,EAAE,EAAE;MACRI,aAAa,EAAE,IAAI;MACnBC,SAAS,EAAE,KAAK;MAChBC,GAAG,EAAE,EAAE;MACPC,IAAI,EAAEX,QAAQ;MACdY,KAAK,EAAEX,UAAU;MACjBY,cAAc,EAAE;IAGpB,CAAC;EACL,CAAC;EACDC,OAAO,EAAE;IAELC,YAAYA,CAAA,EAAG;MACX,IAAI,CAACX,IAAI,CAACY,MAAK,GAAI;MACnB,IAAI,IAAI,CAACX,KAAI,IAAK,IAAG,IAAK,IAAI,CAACC,IAAG,IAAK,IAAI,EAAE;QACzCW,KAAK,CAAC,+CAA+C;QACrD;MACJ,OACK;QAED,IAAIC,UAAS,GAAI,EAAC;QAClB,IAAIC,SAAQ,GAAI,EAAC;QACjB,IAAIC,SAAQ,GAAI,aAAY;QAE5B,IAAI,IAAI,CAACf,KAAI,IAAK,IAAI,EAAE;UACpBa,UAAS,GAAK,KAAI,IAAI,CAACb,KAAM;QACjC;QACA,IAAI,IAAI,CAACC,IAAG,IAAK,IAAI,EAAE;UACnBa,SAAQ,GAAK,MAAK,IAAI,CAACb,IAAK;QAChC;QACA,IAAIe,UAAS,GAAIH,UAAS,GAAIC,SAAQ,GAAIC,SAAQ;QAClDE,OAAO,CAACC,GAAG,CAACF,UAAU;QACtB,IAAIG,GAAE,GAAK,2CAA0CH,UAAW,EAAC;QACjEC,OAAO,CAACC,GAAG,CAACC,GAAG;QAEf,IAAI,CAACC,WAAW,CAACD,GAAG;MACxB;IACJ,CAAC;IACDE,iBAAiBA,CAAA,EAAG;MAChB7B,WAAW,CAAC8B,MAAM,CAAC,EACdC,IAAI,CAACC,QAAO,IAAK;QACd,IAAIC,IAAG,GAAID,QAAQ,CAACzB,IAAG;QACvB,KAAK,IAAI2B,CAAA,GAAI,CAAC,EAAEA,CAAA,GAAID,IAAI,CAACd,MAAM,EAAEe,CAAC,EAAE,EAAE;UAClC,IAAI,CAAClB,cAAc,CAACmB,IAAI,CAACF,IAAI,CAACC,CAAC,CAAC;QACpC;QACAT,OAAO,CAACC,GAAG,CAAC,IAAI,CAACV,cAAc;MAEnC,CAAC,EACAoB,KAAK,CAACC,CAAA,IAAK;QACRZ,OAAO,CAACC,GAAG,CAACW,CAAC,CAAC;MAClB,CAAC,CAAC;IACV,CAAC;IACDC,oBAAoBA,CAAA,EAAG;MACnBb,OAAO,CAACC,GAAG,CAAC,IAAI,CAACnB,IAAI;MACrBkB,OAAO,CAACC,GAAG,CAAC,IAAI,CAACV,cAAc;MAC/B,KAAK,IAAIuB,CAAA,GAAI,CAAC,EAAEA,CAAA,GAAI,IAAI,CAAChC,IAAI,CAACY,MAAM,EAAE,EAAEoB,CAAC,EAAE;QACvCd,OAAO,CAACC,GAAG,CAACa,CAAA,GAAI,GAAG,CAAC;QACpB,KAAK,IAAIL,CAAA,GAAI,CAAC,EAAEA,CAAA,GAAI,IAAI,CAAClB,cAAc,CAACG,MAAM,EAAE,EAAEe,CAAC,EAAE;UACjD,IAAI,IAAI,CAAClB,cAAc,CAACkB,CAAC,CAAC,CAACM,MAAK,IAAK,IAAI,CAACjC,IAAI,CAACgC,CAAC,CAAC,CAACC,MAAM,EAAE;YACtDf,OAAO,CAACC,GAAG,CAAC,OAAO;YACnB,IAAI,CAACe,qBAAqB,CAACF,CAAC;UAChC,OACK;YAAEd,OAAO,CAACC,GAAG,CAAC,WAAW;UAAE;QACpC;MACJ;IACJ,CAAC;IAEDe,qBAAqBA,CAACC,CAAC,EAAE;MACrB,IAAIC,KAAI,GAAIC,QAAQ,CAACC,cAAc,CAAC,IAAI,CAACtC,IAAI,CAACmC,CAAC,CAAC,CAACF,MAAM;MACvDG,KAAK,CAACG,KAAK,CAACC,eAAc,GAAI,OAAM;MACpCtB,OAAO,CAACC,GAAG,CAAC,WAAW;MACvBiB,KAAK,CAACK,QAAO,GAAI,IAAI;IAEzB,CAAC;IAGDpB,WAAWA,CAACD,GAAG,EAAE;MACb1B,KAAK,CAACgD,GAAG,CAACtB,GAAG,CAAC,CAACI,IAAI,CACfC,QAAO,IAAK;QACR,IAAIkB,EAAC,GAAIlB,QAAQ,CAACzB,IAAI,CAAC4C,MAAK;QAC5B,KAAK,IAAIjB,CAAA,GAAI,CAAC,EAAEA,CAAA,GAAIgB,EAAE,CAAC/B,MAAM,EAAEe,CAAC,EAAE,EAAE;UAChC,IAAI,CAAC3B,IAAI,CAAC4B,IAAI,CAACe,EAAE,CAAC,CAAC,CAAC;QACxB;MACJ,CACJ;MACAzB,OAAO,CAACC,GAAG,CAAC,IAAI,CAACnB,IAAI;MAErB,IAAI,CAAC+B,oBAAoB,CAAC;IAC9B,CAAC;IACDc,cAAcA,CAACC,EAAE,EAAE;MACf5B,OAAO,CAACC,GAAG,CAAC2B,EAAE;MACd,IAAIC,SAAQ,GAAI;QACZd,MAAM,EAAEa;MACZ;MAEArD,WAAW,CAACuD,MAAM,CAACD,SAAS,CAAC,CAACvB,IAAI,CAACC,QAAO,IAAK;QAC3CP,OAAO,CAACC,GAAG,CAACM,QAAQ,CAACzB,IAAI,CAAC;QAC1Ba,KAAK,CAAC,sCAAsC;QAC5C,IAAI,CAACoC,SAAQ,GAAI,IAAI;MACzB,CAAC,EACIpB,KAAK,CAACC,CAAA,IAAK;QACRZ,OAAO,CAACC,GAAG,CAACW,CAAC,CAAC;MAClB,CAAC,CAAC;IAEV;EAGJ,CAAC;EACDoB,OAAOA,CAAA,EAAG;IACN,IAAI,CAAC5B,iBAAiB,CAAC;EAC3B;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}