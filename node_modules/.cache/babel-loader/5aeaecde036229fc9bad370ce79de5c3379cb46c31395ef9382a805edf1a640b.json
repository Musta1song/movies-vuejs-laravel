{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport DataService from '@/DataService';\nimport axios from 'axios';\nimport SvgIcon from '@jamescoyle/vue-icon';\nimport { mdilDelete } from '@mdi/light-js';\nimport { mdiPencil } from '@mdi/js';\nimport translate from \"translate\";\nexport default {\n  name: \"FavoriteMovies\",\n  data() {\n    return {\n      data: [],\n      MovieList: [],\n      isLoading: false,\n      err: \"\",\n      path: mdilDelete,\n      path2: mdiPencil\n    };\n  },\n  components: {\n    SvgIcon\n  },\n  methods: {\n    async translateToGerman(toTranslate, imdbID) {\n      translate.engine = \"google\";\n      let text = await translate(toTranslate, \"de\");\n      console.log(text);\n      document.getElementById(imdbID).innerHTML = text;\n    },\n    getFavoriteMovies() {\n      DataService.getAll().then(response => {\n        this.MovieList = response.data;\n        console.log(this.MovieList);\n        this.MovieList = JSON.parse(JSON.stringify(this.MovieList));\n        console.log(this.MovieList);\n        this.fetchData();\n      }).catch(e => {\n        console.log(e);\n      });\n    },\n    edit() {\n      for (let i = 0; i < this.data.length; i++) {\n        const deleteBt = document.querySelectorAll(\"[id='deleteBt']\");\n        for (let i = 0; i < deleteBt.length; i++) {\n          deleteBt[i].style.visibility = \"visible\";\n        }\n      }\n    },\n    removeFromFavorites(imdbID) {\n      for (let i = 0; i < this.MovieList.length; i++) {\n        if (this.MovieList[i].imdbID == imdbID) {\n          let id = this.MovieList[i].id;\n          DataService.remove(id).then(response => {\n            console.log(response);\n            alert(\"Film aus Favoriten entfernt!\");\n            window.location.reload();\n          }).catch(e => {\n            console.log(e);\n          });\n        }\n      }\n    },\n    fetchData() {\n      console.log(\"fetchData-init\");\n      for (let i = 0; i < this.MovieList.length; i++) {\n        const url = `https://www.omdbapi.com/?apikey=385748cd&i=${this.MovieList[i].imdbID}`;\n        console.log(\"fetchData-loop\");\n        axios.get(url).then(response => {\n          this.data.push(response.data);\n        });\n      }\n      console.log(this.data);\n    }\n  },\n  mounted() {\n    console.log(\"halo\");\n    this.getFavoriteMovies();\n  }\n};","map":{"version":3,"names":["DataService","axios","SvgIcon","mdilDelete","mdiPencil","translate","name","data","MovieList","isLoading","err","path","path2","components","methods","translateToGerman","toTranslate","imdbID","engine","text","console","log","document","getElementById","innerHTML","getFavoriteMovies","getAll","then","response","JSON","parse","stringify","fetchData","catch","e","edit","i","length","deleteBt","querySelectorAll","style","visibility","removeFromFavorites","id","remove","alert","window","location","reload","url","get","push","mounted"],"sources":["/home/mustafa/Dokumente/GitHub/vuemovies/src/components/favorites/FavoriteMovies.vue"],"sourcesContent":["<template>\n    <h1>Meine Lieblingsfilme</h1>\n    <div class=\"flex\">\n        <div class=\"div\" v-if=\"this.data.length > 0\"> <v-table theme=\"\" id=\"v-table\">\n\n                <tbody>\n                    <tr v-for=\"x in data \" :key=\"x\">\n                        <td><img :src=\"x.Poster\" alt=\"\"></td>\n                        <td>{{ x.Title }}</td>\n                        <td>{{ x.Year }}</td>\n                        <v-btn v-on:click=\"removeFromFavorites(x.imdbID)\" class=\"deleteBt\" id=\"deleteBt\">\n                            <svg-icon type=\"mdi\" :path=\"path\"></svg-icon>\n                        </v-btn>\n                    </tr>\n                </tbody>\n            </v-table>\n        </div>\n        <div class=\"v-else\" v-else>\n            <h3>Noch keine LieblingsfilmeðŸ˜” </h3>\n        </div>\n\n\n        <div v-if=\"this.data.length > 0\">\n            <v-btn class=\"editbt\" v-on:click=\"edit()\"> <svg-icon type=\"mdi\" :path=\"path2\"></svg-icon>\n            </v-btn>\n        </div>\n    </div>\n\n</template>\n<script>\nimport DataService from '@/DataService';\nimport axios from 'axios';\nimport SvgIcon from '@jamescoyle/vue-icon';\nimport { mdilDelete } from '@mdi/light-js';\nimport { mdiPencil } from '@mdi/js';\n\nimport translate from \"translate\";\nexport default {\n    name: \"FavoriteMovies\",\n\n    data() {\n        return {\n            data: [],\n            MovieList: [],\n            isLoading: false,\n            err: \"\",\n            path: mdilDelete,\n            path2: mdiPencil,\n\n\n\n        };\n    },\n    components: {\n        SvgIcon\n    },\n\n    methods: {\n        async translateToGerman(toTranslate, imdbID) {\n\n            translate.engine = \"google\";\n\n\n            let text = await translate(toTranslate, \"de\")\n            console.log(text)\n            document.getElementById(imdbID).innerHTML = text\n\n        },\n        getFavoriteMovies() {\n            DataService.getAll()\n                .then(response => {\n                    this.MovieList = response.data\n                    console.log(this.MovieList)\n                    this.MovieList = JSON.parse(JSON.stringify(this.MovieList))\n                    console.log(this.MovieList)\n                    this.fetchData()\n\n\n                })\n                .catch(e => {\n                    console.log(e);\n                });\n\n\n        },\n        edit() {\n            for (let i = 0; i < this.data.length; i++) {\n\n                const deleteBt = document.querySelectorAll(\"[id='deleteBt']\")\n                for (let i = 0; i < deleteBt.length; i++) {\n\n                    deleteBt[i].style.visibility = \"visible\"\n                }\n            }\n\n\n        },\n        removeFromFavorites(imdbID) {\n            for (let i = 0; i < this.MovieList.length; i++) {\n                if (this.MovieList[i].imdbID == imdbID) {\n                    let id = this.MovieList[i].id\n                    DataService.remove(id)\n                        .then(response => {\n                            console.log(response)\n                            alert(\"Film aus Favoriten entfernt!\")\n                            window.location.reload()\n\n                        })\n                        .catch(e => {\n                            console.log(e);\n                        });\n\n\n                }\n            }\n\n        },\n        fetchData() {\n            console.log(\"fetchData-init\")\n\n            for (let i = 0; i < this.MovieList.length; i++) {\n                const url = `https://www.omdbapi.com/?apikey=385748cd&i=${this.MovieList[i].imdbID}`;\n\n\n                console.log(\"fetchData-loop\")\n\n\n\n                axios.get(url).then(\n                    response => {\n                        this.data.push(response.data)\n                    }\n                )\n\n\n\n            }\n            console.log(this.data)\n\n        }\n    },\n    mounted() {\n        console.log(\"halo\")\n        this.getFavoriteMovies();\n    }\n\n\n}\n\n</script>\n<style scoped>\n.v-else {\n    display: flex;\n    margin-top: 200px;\n\n}\n\nh1 {\n    margin-top: 20px;\n    color: rgb(152, 144, 144);\n\n}\n\nimg {\n    max-height: 130px;\n}\n\ntd {\n    max-width: 100px;\n}\n\nh3 {\n    margin-top: 10px;\n    margin-right: 10px;\n}\n\n#deleteIcon {\n    color: rgb(220, 107, 107);\n\n}\n\nthead {\n    background-color: rgb(255, 247, 247)\n}\n\nth {\n    padding-left: 10px;\n    padding-right: 10px;\n    margin-left: 10px;\n    background-color: rgb(244, 207, 207);\n\n}\n\n.deleteBt {\n    background-color: rgb(222, 76, 76);\n    margin-top: 50px;\n    margin-left: 10px;\n    min-width: 0;\n    visibility: hidden;\n    width: 50px;\n}\n\ndiv {\n    display: flex;\n    justify-content: center;\n}\n\n.editbt {\n    background-color: red;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}