{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-7fd74932\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"Meine Lieblingsfilme\", -1 /* HOISTED */));\nconst _hoisted_2 = {\n  class: \"flex\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"div\"\n};\nconst _hoisted_4 = [\"src\"];\nconst _hoisted_5 = {\n  key: 1,\n  class: \"v-else\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", null, \"Noch keine LieblingsfilmeðŸ˜” \", -1 /* HOISTED */));\nconst _hoisted_7 = [_hoisted_6];\nconst _hoisted_8 = {\n  key: 2\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_svg_icon = _resolveComponent(\"svg-icon\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_table = _resolveComponent(\"v-table\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, _createElementVNode(\"div\", _hoisted_2, [this.data.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createVNode(_component_v_table, {\n    theme: \"\",\n    id: \"v-table\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.data, x => {\n      return _openBlock(), _createElementBlock(\"tr\", {\n        key: x\n      }, [_createElementVNode(\"td\", null, [_createElementVNode(\"img\", {\n        src: x.Poster,\n        alt: \"\"\n      }, null, 8 /* PROPS */, _hoisted_4)]), _createElementVNode(\"td\", null, _toDisplayString(x.Title), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(x.Year), 1 /* TEXT */), _createVNode(_component_v_btn, {\n        onClick: $event => $options.removeFromFavorites(x.imdbID),\n        class: \"deleteBt\",\n        id: \"deleteBt\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_svg_icon, {\n          type: \"mdi\",\n          path: $data.path\n        }, null, 8 /* PROPS */, [\"path\"])]),\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]);\n    }), 128 /* KEYED_FRAGMENT */))])]),\n    _: 1 /* STABLE */\n  })])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [..._hoisted_7])), this.data.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_createVNode(_component_v_btn, {\n    class: \"editbt\",\n    onClick: _cache[0] || (_cache[0] = $event => $options.edit())\n  }, {\n    default: _withCtx(() => [_createVNode(_component_svg_icon, {\n      type: \"mdi\",\n      path: $data.path2\n    }, null, 8 /* PROPS */, [\"path\"])]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true)])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementVNode","class","key","_hoisted_6","_createElementBlock","_Fragment","_hoisted_1","_hoisted_2","data","length","_hoisted_3","_createVNode","_component_v_table","theme","id","default","_withCtx","_renderList","$data","x","src","Poster","alt","_hoisted_4","_toDisplayString","Title","Year","_component_v_btn","onClick","$event","$options","removeFromFavorites","imdbID","_component_svg_icon","type","path","_","_hoisted_5","_hoisted_7","_hoisted_8","_cache","edit","path2","_createCommentVNode"],"sources":["/home/mustafa/Dokumente/GitHub/vuemovies/src/components/favorites/FavoriteMovies.vue"],"sourcesContent":["<template>\n    <h1>Meine Lieblingsfilme</h1>\n    <div class=\"flex\">\n        <div class=\"div\" v-if=\"this.data.length > 0\"> <v-table theme=\"\" id=\"v-table\">\n\n                <tbody>\n                    <tr v-for=\"x in data \" :key=\"x\">\n                        <td><img :src=\"x.Poster\" alt=\"\"></td>\n                        <td>{{ x.Title }}</td>\n                        <td>{{ x.Year }}</td>\n                        <v-btn v-on:click=\"removeFromFavorites(x.imdbID)\" class=\"deleteBt\" id=\"deleteBt\">\n                            <svg-icon type=\"mdi\" :path=\"path\"></svg-icon>\n                        </v-btn>\n                    </tr>\n                </tbody>\n            </v-table>\n        </div>\n        <div class=\"v-else\" v-else>\n            <h3>Noch keine LieblingsfilmeðŸ˜” </h3>\n        </div>\n\n\n        <div v-if=\"this.data.length > 0\">\n            <v-btn class=\"editbt\" v-on:click=\"edit()\"> <svg-icon type=\"mdi\" :path=\"path2\"></svg-icon>\n            </v-btn>\n        </div>\n    </div>\n\n</template>\n<script>\nimport DataService from '@/DataService';\nimport axios from 'axios';\nimport SvgIcon from '@jamescoyle/vue-icon';\nimport { mdilDelete } from '@mdi/light-js';\nimport { mdiPencil } from '@mdi/js';\n\nimport translate from \"translate\";\nexport default {\n    name: \"FavoriteMovies\",\n\n    data() {\n        return {\n            data: [],\n            MovieList: [],\n            isLoading: false,\n            err: \"\",\n            path: mdilDelete,\n            path2: mdiPencil,\n\n\n\n        };\n    },\n    components: {\n        SvgIcon\n    },\n\n    methods: {\n        async translateToGerman(toTranslate, imdbID) {\n\n            translate.engine = \"google\";\n\n\n            let text = await translate(toTranslate, \"de\")\n            console.log(text)\n            document.getElementById(imdbID).innerHTML = text\n\n        },\n        getFavoriteMovies() {\n            DataService.getAll()\n                .then(response => {\n                    this.MovieList = response.data\n                    console.log(this.MovieList)\n                    this.MovieList = JSON.parse(JSON.stringify(this.MovieList))\n                    console.log(this.MovieList)\n                    this.fetchData()\n\n\n                })\n                .catch(e => {\n                    console.log(e);\n                });\n\n\n        },\n        edit() {\n            for (let i = 0; i < this.data.length; i++) {\n\n                const deleteBt = document.querySelectorAll(\"[id='deleteBt']\")\n                for (let i = 0; i < deleteBt.length; i++) {\n\n                    deleteBt[i].style.visibility = \"visible\"\n                }\n            }\n\n\n        },\n        removeFromFavorites(imdbID) {\n            for (let i = 0; i < this.MovieList.length; i++) {\n                if (this.MovieList[i].imdbID == imdbID) {\n                    let id = this.MovieList[i].id\n                    DataService.remove(id)\n                        .then(response => {\n                            console.log(response)\n                            alert(\"Film aus Favoriten entfernt!\")\n                            window.location.reload()\n\n                        })\n                        .catch(e => {\n                            console.log(e);\n                        });\n\n\n                }\n            }\n\n        },\n        fetchData() {\n            console.log(\"fetchData-init\")\n\n            for (let i = 0; i < this.MovieList.length; i++) {\n                const url = `https://www.omdbapi.com/?apikey=385748cd&i=${this.MovieList[i].imdbID}`;\n\n\n                console.log(\"fetchData-loop\")\n\n\n\n                axios.get(url).then(\n                    response => {\n                        this.data.push(response.data)\n                    }\n                )\n\n\n\n            }\n            console.log(this.data)\n\n        }\n    },\n    mounted() {\n        console.log(\"halo\")\n        this.getFavoriteMovies();\n    }\n\n\n}\n\n</script>\n<style scoped>\n.v-else {\n    display: flex;\n    margin-top: 200px;\n\n}\n\nh1 {\n    margin-top: 20px;\n    color: rgb(152, 144, 144);\n\n}\n\nimg {\n    max-height: 130px;\n}\n\ntd {\n    max-width: 100px;\n}\n\nh3 {\n    margin-top: 10px;\n    margin-right: 10px;\n}\n\n#deleteIcon {\n    color: rgb(220, 107, 107);\n\n}\n\nthead {\n    background-color: rgb(255, 247, 247)\n}\n\nth {\n    padding-left: 10px;\n    padding-right: 10px;\n    margin-left: 10px;\n    background-color: rgb(244, 207, 207);\n\n}\n\n.deleteBt {\n    background-color: rgb(222, 76, 76);\n    margin-top: 50px;\n    margin-left: 10px;\n    min-width: 0;\n    visibility: hidden;\n    width: 50px;\n}\n\ndiv {\n    display: flex;\n    justify-content: center;\n}\n\n.editbt {\n    background-color: rgb(185, 196, 202);\n    width: 55px;\n    min-width: 0;\n}\n</style>"],"mappings":";;gEACIA,mBAAA,CAA6B,YAAzB,sBAAoB;;EACnBC,KAAK,EAAC;AAAM;;EAFrBC,GAAA;EAGaD,KAAK,EAAC;;mBAHnB;;EAAAC,GAAA;EAiBaD,KAAK,EAAC;;gEACPD,mBAAA,CAAqC,YAAjC,8BAA4B;oBAAhCG,UAAqC,C;;EAlBjDD,GAAA;AAAA;;;;;uBAAAE,mBAAA,CAAAC,SAAA,SACIC,UAA6B,EAC7BN,mBAAA,CAwBM,OAxBNO,UAwBM,G,KAvB0BC,IAAI,CAACC,MAAM,Q,cAAvCL,mBAAA,CAaM,OAbNM,UAaM,GAbwCC,YAAA,CAYhCC,kBAAA;IAZyCC,KAAK,EAAC,EAAE;IAACC,EAAE,EAAC;;IAH3EC,OAAA,EAAAC,QAAA,CAKgB,MASQ,CATRhB,mBAAA,CASQ,iB,kBARJI,mBAAA,CAOKC,SAAA,QAbzBY,WAAA,CAMoCC,KAAA,CAAAV,IAAI,EAATW,CAAC;2BAAZf,mBAAA,CAOK;QAPmBF,GAAG,EAAEiB;MAAC,IAC1BnB,mBAAA,CAAqC,aAAjCA,mBAAA,CAA4B;QAAtBoB,GAAG,EAAED,CAAC,CAACE,MAAM;QAAEC,GAAG,EAAC;8BAPrDC,UAAA,E,GAQwBvB,mBAAA,CAAsB,YAAAwB,gBAAA,CAAfL,CAAC,CAACM,KAAK,kBACdzB,mBAAA,CAAqB,YAAAwB,gBAAA,CAAdL,CAAC,CAACO,IAAI,kBACbf,YAAA,CAEQgB,gBAAA;QAFIC,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAC,mBAAmB,CAACZ,CAAC,CAACa,MAAM;QAAG/B,KAAK,EAAC,UAAU;QAACa,EAAE,EAAC;;QAV9FC,OAAA,EAAAC,QAAA,CAW4B,MAA6C,CAA7CL,YAAA,CAA6CsB,mBAAA;UAAnCC,IAAI,EAAC,KAAK;UAAEC,IAAI,EAAEjB,KAAA,CAAAiB;;QAXxDC,CAAA;;;IAAAA,CAAA;yBAiBQhC,mBAAA,CAEM,OAFNiC,UAEM,EAnBd,IAAAC,UAAA,K,KAsBwB9B,IAAI,CAACC,MAAM,Q,cAA3BL,mBAAA,CAGM,OAzBdmC,UAAA,GAuBY5B,YAAA,CACQgB,gBAAA;IADD1B,KAAK,EAAC,QAAQ;IAAM2B,OAAK,EAAAY,MAAA,QAAAA,MAAA,MAAAX,MAAA,IAAEC,QAAA,CAAAW,IAAI;;IAvBlD1B,OAAA,EAAAC,QAAA,CAuBuD,MAA8C,CAA9CL,YAAA,CAA8CsB,mBAAA;MAApCC,IAAI,EAAC,KAAK;MAAEC,IAAI,EAAEjB,KAAA,CAAAwB;;IAvBnFN,CAAA;UAAAO,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}