{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport DataService from '@/DataService';\nimport axios from 'axios';\nimport SvgIcon from '@jamescoyle/vue-icon';\nimport { mdilDelete } from '@mdi/light-js';\nimport { mdilPencil } from '@mdi/light-js';\nimport translate from \"translate\";\nexport default {\n  name: \"FavoriteMovies\",\n  data() {\n    return {\n      data: [],\n      MovieList: [],\n      isLoading: false,\n      err: \"\",\n      path: mdilDelete,\n      path2: mdilPencil\n    };\n  },\n  components: {\n    SvgIcon\n  },\n  methods: {\n    async translateToGerman(toTranslate, imdbID) {\n      translate.engine = \"google\";\n      let text = await translate(toTranslate, \"de\");\n      console.log(text);\n      document.getElementById(imdbID).innerHTML = text;\n    },\n    getFavoriteMovies() {\n      DataService.getAll().then(response => {\n        this.MovieList = response.data;\n        console.log(this.MovieList);\n        this.MovieList = JSON.parse(JSON.stringify(this.MovieList));\n        console.log(this.MovieList);\n        this.fetchData();\n      }).catch(e => {\n        console.log(e);\n      });\n    },\n    edit() {\n      const vtable = document.getElementById(\"v-table\");\n      const deleteBt = document.querySelector(\"#deleteBt\");\n      vtable.style.marginRight = \"10px\";\n      deleteBt.style.visibility = \"visible\";\n    },\n    removeFromFavorites(imdbID) {\n      for (let i = 0; i < this.MovieList.length; i++) {\n        if (this.MovieList[i].imdbID == imdbID) {\n          let id = this.MovieList[i].id;\n          DataService.remove(id).then(response => {\n            console.log(response);\n            alert(\"Film aus Favoriten entfernt!\");\n            window.location.reload();\n          }).catch(e => {\n            console.log(e);\n          });\n        }\n      }\n    },\n    fetchData() {\n      console.log(\"fetchData-init\");\n      for (let i = 0; i < this.MovieList.length; i++) {\n        const url = `https://www.omdbapi.com/?apikey=385748cd&i=${this.MovieList[i].imdbID}`;\n        console.log(\"fetchData-loop\");\n        axios.get(url).then(response => {\n          this.data.push(response.data);\n        });\n      }\n      console.log(this.data);\n    }\n  },\n  mounted() {\n    console.log(\"halo\");\n    this.getFavoriteMovies();\n  }\n};","map":{"version":3,"names":["DataService","axios","SvgIcon","mdilDelete","mdilPencil","translate","name","data","MovieList","isLoading","err","path","path2","components","methods","translateToGerman","toTranslate","imdbID","engine","text","console","log","document","getElementById","innerHTML","getFavoriteMovies","getAll","then","response","JSON","parse","stringify","fetchData","catch","e","edit","vtable","deleteBt","querySelector","style","marginRight","visibility","removeFromFavorites","i","length","id","remove","alert","window","location","reload","url","get","push","mounted"],"sources":["/home/mustafa/Dokumente/GitHub/vuemovies/src/components/favorites/FavoriteMovies.vue"],"sourcesContent":["<template>\n    <h1>Meine Lieblingsfilme</h1>\n\n    <div class=\"div\" v-if=\"this.data.length > 0\"> <v-table theme=\"\" id=\"v-table\">\n            <thead>\n                <tr>\n                    <th>\n                        Poster\n                    </th>\n                    <th>Title</th>\n                    <th>Jahr</th>\n                    <th>Laufzeit</th>\n                    <th>Rating</th>\n                    <th>Regisseur</th>\n                    <th>Drehbuch</th>\n                    <th>Schauspieler</th>\n                    <th>Genre</th>\n                    <th>Land</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr v-for=\"x in  data \" :key=\"x\">\n                    <td><img :src=\"x.Poster\" alt=\"\"></td>\n                    <td>{{ x.Title }}</td>\n                    <td>{{ x.Year }}</td>\n                    <td>{{ x.Runtime }}</td>\n                    <td>{{ x.imdbRating }}</td>\n                    <td>{{ x.Director }}</td>\n                    <td>{{ x.Writer }}</td>\n                    <td>{{ x.Actors }}</td>\n                    <td>{{ x.Genre }}</td>\n                    <td :id=\"x.imdbID\">{{ translateToGerman(x.Country, x.imdbID) }}</td>\n                    <v-btn v-on:click=\"removeFromFavorites(x.imdbID)\" class=\"deleteBt\" id=\"deleteBt\">\n                        <svg-icon type=\"mdi\" :path=\"path\"></svg-icon>\n                    </v-btn>\n                </tr>\n            </tbody>\n        </v-table>\n    </div>\n    <div class=\"v-else\" v-else>\n        <h3>Noch keine LieblingsfilmeðŸ˜” </h3>\n    </div>\n\n\n    <footer>\n        <v-btn v-on:click=\"edit()\"> <svg-icon type=\"mdi\" :path=\"path2\"></svg-icon>\n        </v-btn>\n    </footer>\n\n</template>\n<script>\nimport DataService from '@/DataService';\nimport axios from 'axios';\nimport SvgIcon from '@jamescoyle/vue-icon';\nimport { mdilDelete } from '@mdi/light-js';\nimport { mdilPencil } from '@mdi/light-js';\n\nimport translate from \"translate\";\nexport default {\n    name: \"FavoriteMovies\",\n\n    data() {\n        return {\n            data: [],\n            MovieList: [],\n            isLoading: false,\n            err: \"\",\n            path: mdilDelete,\n            path2: mdilPencil,\n\n\n\n        };\n    },\n    components: {\n        SvgIcon\n    },\n\n    methods: {\n        async translateToGerman(toTranslate, imdbID) {\n\n            translate.engine = \"google\";\n\n\n            let text = await translate(toTranslate, \"de\")\n            console.log(text)\n            document.getElementById(imdbID).innerHTML = text\n\n        },\n        getFavoriteMovies() {\n            DataService.getAll()\n                .then(response => {\n                    this.MovieList = response.data\n                    console.log(this.MovieList)\n                    this.MovieList = JSON.parse(JSON.stringify(this.MovieList))\n                    console.log(this.MovieList)\n                    this.fetchData()\n\n\n                })\n                .catch(e => {\n                    console.log(e);\n                });\n\n\n        },\n        edit() {\n            const vtable = document.getElementById(\"v-table\")\n            const deleteBt = document.querySelector(\"#deleteBt\")\n            vtable.style.marginRight = \"10px\"\n            deleteBt.style.visibility = \"visible\"\n\n\n        },\n        removeFromFavorites(imdbID) {\n            for (let i = 0; i < this.MovieList.length; i++) {\n                if (this.MovieList[i].imdbID == imdbID) {\n                    let id = this.MovieList[i].id\n                    DataService.remove(id)\n                        .then(response => {\n                            console.log(response)\n                            alert(\"Film aus Favoriten entfernt!\")\n                            window.location.reload()\n\n                        })\n                        .catch(e => {\n                            console.log(e);\n                        });\n\n\n                }\n            }\n\n        },\n        fetchData() {\n            console.log(\"fetchData-init\")\n\n            for (let i = 0; i < this.MovieList.length; i++) {\n                const url = `https://www.omdbapi.com/?apikey=385748cd&i=${this.MovieList[i].imdbID}`;\n\n\n                console.log(\"fetchData-loop\")\n\n\n\n                axios.get(url).then(\n                    response => {\n                        this.data.push(response.data)\n                    }\n                )\n\n\n\n            }\n            console.log(this.data)\n\n        }\n    },\n    mounted() {\n        console.log(\"halo\")\n        this.getFavoriteMovies();\n    }\n\n\n}\n\n</script>\n<style scoped>\n.v-else {\n    display: flex;\n    margin-top: 200px;\n\n}\n\nh1 {\n    margin-top: 20px;\n    color: rgb(152, 144, 144);\n\n}\n\nimg {\n    max-height: 130px;\n}\n\ntd {\n    border-left: 1px solid rgb(255, 255, 255);\n    max-width: 100px;\n}\n\nh3 {\n    margin-top: 10px;\n    margin-right: 10px;\n}\n\ntd {\n    background-color: rgb(226, 246, 246);\n    border-bottom: 1px solid rgb(203, 199, 199);\n\n}\n\n.v-table {\n    min-width: 70%;\n}\n\n#deleteIcon {\n    color: rgb(220, 107, 107);\n\n}\n\nthead {\n    background-color: rgb(255, 247, 247)\n}\n\nth {\n    padding-left: 10px;\n    padding-right: 10px;\n    margin-left: 10px;\n    border-bottom: 1px solid rgb(203, 199, 199);\n}\n\n.deleteBt {\n    background-color: rgb(182, 111, 111);\n    margin-top: 40px;\n    margin-left: 10px;\n    min-width: 0;\n    visibility: hidden;\n    width: 40px;\n}\n\n.deleteBt:hover {\n    background-color: rgb(215, 84, 84);\n\n}\n\n.lasttd {\n    border-right: 1px solid rgb(203, 199, 199)\n}\n\ndiv {\n    display: flex;\n    justify-content: center;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}